@tailwind base;
@tailwind components;
@tailwind utilities;

/* ================================================================
   MARKETSCHOLAR - LUMINOUS INTELLIGENCE DESIGN SYSTEM
   Enterprise light theme with blue trust palette
   ================================================================ */

:root {
  --base: #F8FAFC;
  --card: #FFFFFF;
  --border: #E2E8F0;
  --primary: #3B82F6;
  --primary-dark: #1E40AF;
  --npi: #8B5CF6;
  --verified: #059669;
  --risk: #DC2626;
  --caution: #D97706;
  --ink: #0F172A;
  --ink-muted: #64748B;
}

body {
  color: var(--ink);
  background: var(--base);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Premium scrollbar */
::-webkit-scrollbar { width: 6px; height: 6px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: #CBD5E1; border-radius: 10px; }
::-webkit-scrollbar-thumb:hover { background: #94A3B8; }

/* ================================================================
   LAYOUT UTILITIES
   ================================================================ */

.glass {
  backdrop-filter: blur(16px) saturate(180%);
  -webkit-backdrop-filter: blur(16px) saturate(180%);
  background: rgba(255, 255, 255, 0.72);
  border: 1px solid rgba(255, 255, 255, 0.3);
}

.card-interactive {
  transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  box-shadow: 0 1px 3px rgba(0,0,0,0.04), 0 1px 2px rgba(0,0,0,0.06);
}
.card-interactive:hover {
  transform: translateY(-2px);
  box-shadow: 0 12px 32px rgba(0,0,0,0.08), 0 4px 8px rgba(0,0,0,0.04);
}

.line-clamp-2 { display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
.line-clamp-3 { display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden; }

/* ================================================================
   GRADIENT UTILITIES
   ================================================================ */

.text-gradient-blue {
  background: linear-gradient(135deg, #1E40AF, #3B82F6);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.text-gradient-npi {
  background: linear-gradient(135deg, #7C3AED, #8B5CF6);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.bg-animated-gradient {
  background: linear-gradient(135deg, #EFF6FF, #F5F3FF, #EFF6FF, #DBEAFE);
  background-size: 300% 300%;
  animation: gradientX 8s ease infinite;
}

.bg-dots {
  background-image: radial-gradient(circle, #E2E8F0 1px, transparent 1px);
  background-size: 24px 24px;
}

/* ================================================================
   ANIMATIONS
   ================================================================ */

.stagger-children > * {
  opacity: 0;
  animation: slideUp 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}
.stagger-children > *:nth-child(1) { animation-delay: 0.05s; }
.stagger-children > *:nth-child(2) { animation-delay: 0.1s; }
.stagger-children > *:nth-child(3) { animation-delay: 0.15s; }
.stagger-children > *:nth-child(4) { animation-delay: 0.2s; }
.stagger-children > *:nth-child(5) { animation-delay: 0.25s; }
.stagger-children > *:nth-child(6) { animation-delay: 0.3s; }
.stagger-children > *:nth-child(7) { animation-delay: 0.35s; }
.stagger-children > *:nth-child(8) { animation-delay: 0.4s; }

@keyframes slideUp {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}
.animate-slideUp {
  animation: slideUp 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  opacity: 0;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}
.animate-fadeIn { animation: fadeIn 0.5s ease-out forwards; }

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}
.shimmer-loading {
  background: linear-gradient(90deg, #F1F5F9 25%, #E2E8F0 50%, #F1F5F9 75%);
  background-size: 200% 100%;
  animation: shimmer 2.5s ease-in-out infinite;
}

@keyframes gradientX {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}

@keyframes countUp {
  from { opacity: 0; transform: translateY(8px); }
  to { opacity: 1; transform: translateY(0); }
}
.animate-number { animation: countUp 0.6s ease-out forwards; }

@keyframes progressFill {
  from { width: 0%; }
  to { width: var(--progress-width, 100%); }
}
.progress-bar-fill { animation: progressFill 1.2s cubic-bezier(0.16, 1, 0.3, 1) forwards; }

@keyframes orbit {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}
.orbit-ring { animation: orbit 20s linear infinite; }
.orbit-ring-reverse { animation: orbit 15s linear infinite reverse; }

@keyframes scroll-left {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}
.animate-scroll-left { animation: scroll-left 40s linear infinite; }
.animate-scroll-left:hover { animation-play-state: paused; }

@keyframes pulse-slow {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}
.animate-pulse-slow { animation: pulse-slow 3s ease-in-out infinite; }

@keyframes glow-line {
  0%, 100% { opacity: 0.4; }
  50% { opacity: 1; }
}
.animate-glow-line { animation: glow-line 2s ease-in-out infinite; }

@keyframes decay-pulse {
  0%, 100% { filter: drop-shadow(0 0 4px #8B5CF6); }
  50% { filter: drop-shadow(0 0 12px #8B5CF6); }
}
.animate-decay-glow { animation: decay-pulse 3s ease-in-out infinite; }

.spinner {
  border: 2px solid #E2E8F0;
  border-top: 2px solid #3B82F6;
  border-radius: 50%;
  width: 20px;
  height: 20px;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.small-caps { font-variant: small-caps; letter-spacing: 0.08em; }
.tabular-nums { font-variant-numeric: tabular-nums; }

.recharts-wrapper { transition: opacity 0.3s ease; }
.recharts-cartesian-grid line { stroke: #F1F5F9 !important; }
.recharts-tooltip-wrapper { filter: drop-shadow(0 8px 24px rgba(0,0,0,0.1)); }

/* ================================================================
   ENHANCED MICRO-INTERACTIONS
   ================================================================ */

/* Hover lift effect for cards */
.hover-lift {
  transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
}
.hover-lift:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08), 0 4px 8px rgba(0, 0, 0, 0.04);
}

/* Scale on hover for interactive elements */
.hover-scale {
  transition: transform 0.2s cubic-bezier(0.16, 1, 0.3, 1);
}
.hover-scale:hover {
  transform: scale(1.02);
}

/* Focus ring */
.focus-ring:focus-visible {
  outline: 2px solid #3B82F6;
  outline-offset: 2px;
  border-radius: 8px;
}

/* Animate score ring stroke */
@keyframes strokeDraw {
  from { stroke-dashoffset: 365; }
  to { stroke-dashoffset: var(--target-offset, 0); }
}
.animate-stroke-draw {
  animation: strokeDraw 1.5s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

/* Glow pulse for live indicators */
@keyframes livePulse {
  0%, 100% {
    box-shadow: 0 0 0 0 rgba(5, 150, 105, 0.4);
  }
  50% {
    box-shadow: 0 0 0 6px rgba(5, 150, 105, 0);
  }
}
.animate-live-pulse {
  animation: livePulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* Number ticker animation */
@keyframes numberPop {
  0% { transform: translateY(0) scale(1); }
  50% { transform: translateY(-2px) scale(1.05); }
  100% { transform: translateY(0) scale(1); }
}
.animate-number-pop {
  animation: numberPop 0.3s ease-out;
}

/* Subtle background shimmer for active states */
@keyframes bgShimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}
.bg-shimmer-active {
  background: linear-gradient(90deg,
    transparent 0%,
    rgba(59, 130, 246, 0.04) 25%,
    rgba(139, 92, 246, 0.06) 50%,
    rgba(59, 130, 246, 0.04) 75%,
    transparent 100%
  );
  background-size: 200% 100%;
  animation: bgShimmer 3s ease-in-out infinite;
}

/* Tooltip appear animation */
@keyframes scaleIn {
  from { opacity: 0; transform: scale(0.95) translateX(-50%); }
  to { opacity: 1; transform: scale(1) translateX(-50%); }
}
.animate-scaleIn {
  animation: scaleIn 0.15s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

/* Regime badge subtle glow */
@keyframes regimeGlow {
  0%, 100% { filter: brightness(1); }
  50% { filter: brightness(1.05); }
}
.animate-regime-glow {
  animation: regimeGlow 4s ease-in-out infinite;
}

/* Countdown digit flip effect */
@keyframes digitFlip {
  0% { transform: translateY(0); opacity: 1; }
  49% { transform: translateY(-100%); opacity: 0; }
  50% { transform: translateY(100%); opacity: 0; }
  100% { transform: translateY(0); opacity: 1; }
}

/* Smooth expand/collapse */
.transition-expand {
  transition: max-height 0.5s cubic-bezier(0.16, 1, 0.3, 1),
              opacity 0.4s ease,
              padding 0.3s ease;
}

/* Particle dots background (enhanced) */
.bg-particles {
  background-image:
    radial-gradient(circle at 20% 35%, rgba(59, 130, 246, 0.03) 0%, transparent 50%),
    radial-gradient(circle at 75% 15%, rgba(139, 92, 246, 0.02) 0%, transparent 50%),
    radial-gradient(circle, #E2E8F0 1px, transparent 1px);
  background-size: 100% 100%, 100% 100%, 24px 24px;
}

/* Selection styling */
::selection {
  background: rgba(59, 130, 246, 0.15);
  color: #1E40AF;
}
